<!-- detail.html - Partial view for properties on each patient -->

{% extends "base.html" %}

{% block title %}Patient Detail{% endblock %}

{% block page_header %}
    </br></br>
    <div class="page-header">
        <h1>{{ patient.first_name }} {{ patient.last_name }}</h1>
    </div>
    <style type="text/css">
        p { overflow-wrap: break-word; word-wrap: break-word; }
    </style>
{% endblock %}


{% block content %}

    <script src="../static/vis/vis.js"></script>
    <link href="../static/vis/vis.css" rel="stylesheet" type="text/css" />

    <div id="visualization"></div>

    {# Populate the graph #}
    <script type="text/javascript">

        {# Receive data from server-side into JS object on client-side. #}
        var data = '{{ data }}';
        console.log(data);

        var container = document.getElementById('visualization');
        var items = [
        {x: '2014-06-11', y: 10},
        {x: '2014-06-12', y: 25},
        {x: '2014-06-14', y: 10},
        {x: '2014-06-15', y: 15},
        {x: '2014-06-13', y: 30},
        {x: '2014-06-16', y: 30}
        ];

        var dataset = new vis.DataSet(items);
        var options = {
          start: '2014-06-10',
          end: '2014-06-18'
        };
        var graph2d = new vis.Graph2d(container, dataset, options);
    </script>

    <div class="row">
        <div class="col-md-11">
            <h4><span class="label label-primary">Fitbit Access Token:</span></h4><p class="nobreak">{{ patient.token }}</p>
            <h4><span class="label label-primary">Fitbit Refresh Token:</span></h4><p>{{ patient.refresh }}</p>
            <h4><span class="label label-success">Resting Heart Rate Today:</span></h4><p>{{ resting }}</p>
            <h4><span class="label label-success">Heart Rate Data Today:</span></h4><p>{{ data }}</p>
        </div>
    </div>
{% endblock %}